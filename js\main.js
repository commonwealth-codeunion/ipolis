$(document).ready(()=>{}),function(e){e.fn.usPhoneFormat=function(n){var t=e.extend({format:"xxx-xxx-xxxx",international:!1},n);"xxx-xxx-xxxx"===t.format?(e(this).bind("paste",(function(n){n.preventDefault();var t=n.originalEvent.clipboardData.getData("Text");if(!e.isNumeric(t))return!1;t=String(t.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3")),e(this).val(t),e(this).val(""),t=t.substring(0,12),e(this).val(t)})),e(this).on("keydown touchend",(function(n){if(8!=n.which&&0!=n.which&&(n.which<48||n.which>57))return!1;var t=this.value.length,o=e(this).val();(3==t&&8!=n.which&&0!=n.which||7==t&&8!=n.which&&0!=n.which)&&e(this).val(o+"-"),e(this).attr("maxlength","12")}))):"(xxx) xxx-xxxx"===t.format&&(e(this).on("keydown touchend",(function(n){if(8!=n.which&&0!=n.which&&(n.which<48||n.which>57))return!1;var t=this.value.length,o=e(this).val();3==t&&8!=n.which&&0!=n.which?e(this).val("("+o+") "):9==t&&8!=n.which&&0!=n.which&&e(this).val(o+"-"),e(this).attr("maxlength","14")})),e(this).bind("paste",(function(n){n.preventDefault();var t=n.originalEvent.clipboardData.getData("Text");if(!e.isNumeric(t))return!1;t=String(t.replace(/(\d{3})(\d{3})(\d{4})/,"($1) $2-$3")),e(this).val(t),e(this).val(""),t=t.substring(0,14),e(this).val(t)})))}}(jQuery);const countries=[["blr","+375","xxx-xxx-xxxx",11],["ru","+7","xxx-xxx-xxxx",12],["kz","+7","xxx-xxx-xxxx",12,"7"],["kg","+996","xxx-xxx-xxxx",12],["ua","+380","xxx-xxx-xxxx",11]];var country=countries[2];const office="https://yandex.kz/map-widget/v1/-/CCQwvRxO1C?lang=ru_RU";function setCode(e){countries[e][0]!=country[0]&&$("#phone").val(""),$(".input-phone__flag").removeClass("flag_"+country[0]),country=countries[e],$(".input-phone__flag").addClass("flag_"+country[0]),$(".input-phone__country-code").html(country[1]),$(".input-phone__countries").toggleClass("open")}window.onload=()=>{console.log("Window already loaded!"),$("#map_iframe").attr("src",office)},$(document).ready((function(){$("#phone").removeAttr("disabled").usPhoneFormat({format:country[2]}),countries.forEach((e,n)=>$(".input-phone__countries").append(`\n            <div class="input-phone__countries-element" onclick="setCode(${n})">\n                <div class="input-phone__countries-container">\n                    <div class="input-phone__flags flag flag_${e[0]}"></div>\n                    <span class="input-phone__code">${e[1]}</span>\n                </div>\n            </div>\n        `)),$("#open-countries").click(()=>{$(".input-phone__countries").toggleClass("open")}),$("summary").click(e=>{let n=$(e.target).parent(".faq__question");console.log(n[0].hasAttribute("open")),n[0].hasAttribute("open")&&setTimeout(()=>{n.removeAttr("open"),console.log("wow")},10),$(".faq__question").removeAttr("open")}),$("#submit").click(()=>{$(".input-phone__countries").removeClass("open");let e=country[1]+" "+$("#phone").val();console.log(e,e.length);try{if($("#phone").val().trim().length!=country[3])throw Error("Введите номер полностью");if(country[4]&&$("#phone").val()[0]!=country[4])throw Error("Введите корректный номер!");$.ajax({type:"POST",url:"send.php",data:{phone:e},beforeSend:()=>{$(".btn").attr("disabled","disabled"),$(".error").html("Отправляем...")}}).done(e=>{(e.error=201)&&$(".error").html("Отправлено!")}).fail(e=>{console.error(e),$(".error").html("Произошла ошибка, попробуйте позже")})}catch(e){console.log(e.message),$(".error").html(e.message),$(".form-phone").addClass("not-valid")}}),$("#phone").on("focus click",()=>{$(".input-phone__countries").removeClass("open")}),$(document).on("click",e=>{$(e.target).hasClass("input-phone__countries")||$(e.target).hasClass("input-phone__flag-box")||$(".input-phone__countries").removeClass("open")})}));let opened=!1,btn=$("#burger"),menu=$(".menu"),items=$(".menu__items");function open(){btn.addClass("open"),menu.addClass("open"),opened=!0}function close(){btn.removeClass("open"),menu.removeClass("open"),opened=!1}btn.click(()=>{opened?close():open()}),items.click(()=>{close()});